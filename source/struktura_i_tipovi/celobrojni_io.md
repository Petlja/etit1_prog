# Унос и приказ целих бројева

Пошто програмски језик C потиче са UNIX система, он све уређаје третира као
датотеке. Тако и податке које требаш унети у програм или исписати из програма
можеш посматрати као датотеке које садрже низове сукцесивних знакова који се
називају токови *(енгл. streams)*.

Улазни подаци читају се из тока `stdin`, излазни уписују у ток `stdout`, а
кодови грешака насталих при извршењу програма уписују се у ток `stderr`.
Извориште података за унос може бити тастатура, било који улазни уређај или
датотека, док одредиште за испис може бити екран, штампач, било који излазни
уређај или датотека. Ток `stdin` назива се стандардни улаз, ток `stdout`
стандардни излаз и ток `stderr` стандардни излаз за грешке.

```{image} images/tokovi.png
:width: 100%
:align: center
:alt: Токови
```

Ове школске године, једино извориште података којег ћеш користити је тастатура,
а одредиште за испис података екран. Коришћење других изворишта и одредишта
биће теме следеће школске године.

Подаци се са тастатуре уносе као низ знакова, у меморији представљају у
бинарном облику одређеног типа и на екрану у текстуалном облику. У току преноса
знакова унешених са тастатуре у бинарни облик одређеног типа у меморији врши се
**улазна конверзија**. У току преноса бинарних података одређеног типа из
меморије у текстуални облик који се исписује на екрану врши се
**излазна конверзија**.

У програмском језику C наредбе за улаз/излаз формирају се коришћењем посебних
функција дефинисаних у заглављу `stdio.h`. У овом заглављу дефинисано је више
функција које се могу користити за улаз/излаз, а ти ћеш користити функцију
`printf()` за излаз и функцију `scanf()` за улаз.

## Функција за приказ података

Функцију `printf()` до сада си користио само за испис текста који се налазио
између наводника. Међутим, ова функција има и могућност исписа података било
ког типа на стандардном излазу тј. на екрану уз примену излазне конверзије.
Каже се да ова функција обавља **форматирани излаз** јер као аргумент користи
низ знакова којим се управља конверзијом, а који се назива формат.

Библиотечка функција `printf()` има следећи општи облик:

```text
printf(format, lista_argumenata);
```

где је `format` низ знакова записан између наводника који може наизменично
да садржи текст (укључујући и размаке), управљачке карактере и спецификаторе
конверзија, док `lista_argumenata` садржи вредности које ће бити исписане,
обично у форми идентификатора или израза. Спецификатор конверзије прецизно
одређује начин конверзије податка који се исписује. Увек почиње знаком `%` и
има општи облик:

```text
%[dodatne_opcije]simbol_konverzije
```

Симболи конверзије за излазне податке целобројног типа су:

- `d` или `i` - означени цео број у декадном бројевном систему,
- `u` - неозначени цео број у декадном бројевном систему,
- `o` - неозначени цео број у окталном бројевном систему,
- `x` или `X` - неозначени цео број у хексадекадном бројевном систему.

Место на коме се исписује излазни податак назива се **поље**. Број знакова који
се може сместити у неко поље назива се **ширина поља**.

Спецификатор конверзије `%d` је један од симбола за целобројни податак типа
`int`. Ако су променљиве `alisa`, `bob`, `ceca` и `dule` иницијализоване са
бројем година које Алиса, Боб, Цеца и Дуле имају на данашњи дан, онда можеш
написати програм који ће те податке исписати на стандардни излаз на следећи
начин:

```c
#include <stdio.h>

int main(void)
{
    int alisa = 16, bob = 17, ceca = 15, dule = 18;
    printf("Alisa ima %d, ", alisa);
    printf("Bob ima %d, ", bob);
    printf("Ceca ima %d i ", ceca);
    printf("Dule ima %d godina.", dule);
    return 0;
}
```

На стандардном излазу исписаће се:

```text
Alisa ima 16, Bob ima 17, Ceca ima 15 i Dule ima 18 godina.
```

У оквиру једне `printf()` функције можеш користи више поља истовремено и
претходни програм можеш написати и овако:

```c
#include <stdio.h>

int main(void)
{
    int alisa = 16, bob = 17, ceca = 15, dule = 18;
    printf("Alisa ima %d, Bob ima %d, Ceca ima %d i Dule ima %d godina.", alisa, bob, ceca, dule);
    return 0;
}
```

На стандардном излазу исписаће се исти текст:

```text
Alisa ima 16, Bob ima 17, Ceca ima 15 i Dule ima 18 godina.
```

Често ће се у задацима од тебе тражити да напишеш програм који ће на стандардни
излаз исписати само бројчане податке. На пример, напиши програм који је у
једном реду стандардног излаза исписати број година које Алиса, Боб, Цеца и
Дуле имају на данашњи дан:

```c
#include <stdio.h>

int main(void)
{
    int alisa = 16, bob = 17, ceca = 15, dule = 18;
    printf("%d %d %d %d", alisa, bob, ceca, dule);
    return 0;
}
```

Сада ће се на стандардном излазу исписати само бројеви:

```text
16 17 15 18
```

Додатне опције које можеш користити у спецификатору конверзије омогућују да
прецизно дефинишеш како ће изгледати испис на главном излазу. Општи облик
спецификатора конверзије са додатним опцијама за функцију `printf()` је:

```text
%[parametri][širina][.preciznost][dužina]simbol_konverzije
```

Знак `%` и `simbol_konverzije` су обавезни елементи, а између њих можеш
додатно навести, по датом редоследу и следеће необавезне елементе:

- **параметар `–`** означава да се излазни податак поравна у пољу улево
(подразумевано је поравнање удесно и додавање размака с леве стране),
- **параметар `+`** означава да се испред позитивног излазног податка испише
знак плус (подразумевано је да је излазни податак без знака позитиван),
- **параметар *размак*** означава да треба оставити једно празно место испред
означеног излазног податка, ако податак нема исписан ни један знак.
- **параметар `#`** за вредности различите од нуле означава обавезно исписивање
`0` за излазне податке у окталном бројевном систему и `0х` или `0Х` за излазне
податке у хексадекадном бројевном систему.
- **параметар `0`** означава да се приликом поравнања удесно, са леве стране
излазних података дописују нуле уместо размака.
- `širina` је целобројна вредност која задаје минималну ширину поља, тј. укупан
број позиција коју заузима излазни податак (уз допуну размацима са лева). Ако
је за приказ излазног података потребно више позиција, поље се аутоматски
проширује за потребан број места.
- `.preciznost` је целобројна вредност која задаје најмањи број цифара за
испис излазног податка. Ако је број цифара за испис мањи од задате вредности,
дописују се нуле на почетку, а ако је прецизност задата нулом, за излазни
податак `0` неће бити исписана ни једна цифра.
- `dužina` се задаје карактером `h` за `short`, `l` за `long`, или `ll` за
`long long`.

Уместо ширине поља може се ставити знак `*` након чега се вредност за
минималну ширину поља наводи у листи аргумената функције који мора бити
целобројног типа `int` и претходити идентификатору променљиве која се исписује.
Исто важи и за прецизност.

Нека је задатак да напишеш програм у програмском језику C којим се на
стандарни излаз исписују четири формата записивања датума раздвојена међусобно
знаком `|` и то:

- Д.М.Г. формат, где поља нису фиксне ширине *(нпр. 1.9.2023.)*,
- ДД-ММ-ГГГГ формат, где су поља фиксне ширине *(нпр. 01-09-2023)*,
- ММ-ДД-ГГГГ формат, где су поља фиксне ширине *(нпр. 09-01-2023)*, као у САД-у
и
- ГГГГ-ММ-ДД формат, где су поља фиксне ширине *(нпр. 2023-09-01)*, по ISO 8601
стандарду.

ако је данас први септембар 2023. године.

```c
#include <stdio.h>

int main(void)
{
    int d = 1;
    int m = 9;
    int g = 2023;
    printf("%d.%d.%d. | ", d, m, g);
    printf("%02d-%02d-%04d | ", d, m, g);
    printf("%02d-%02d-%04d | ", m, d, g);
    printf("%04d-%02d-%02d", g, m, d);
    return 0;
}
```

На стандардном излазу исписаће се тражене четири варијанте писања датума:

```text
1.9.2023. | 01-09-2023 | 09-01-2023 | 2023-09-01
```

## Функције за унос података

До сада си научио да на стандардни излаз исписујеш податке које си сам
дефинисао у оквиру програма. Међутим, у већини случајева у пракси, подаци нису
унапред познати, односно, корисник програма треба сам да уноси податке.
Функција `scanf()` чита податке са стандардног улаза тј. са тастатуре уз
примену улазне конверзије. Каже се да ова функције обављају
**форматирани улаз** јер као аргумент користи низ знакова којим се управља
конверзијом, а који се назива формат.

Библиотечка функција `scanf()` има следећи општи облик:

```text
scanf(format, lista_adresa);
```

`format` је низ знакова записан између наводника који може наизменично
да садржи размаке, управљачке карактере и спецификаторе конверзија.
`lista_adresa` садржи адресe променљивих које се записују у облику
`&identifikator` у које се уносе конвертоване вредности учитаних података.
Спецификатор конверзије прецизно одређује начин конверзије податка који се
исписује. Увек почиње знаком `%` и има општи облик:

```text
%[dodatne_opcije]simbol_konverzije
```

Симболи конверзије за излазне податке целобројног типа исти су као и за улазне
податке у функцији `printf()`. Општи облик спецификатора конверзије са додатним
опцијама за функцију `scanf()` је следећи:

```text
%[*][širina][dužina]simbol_konverzije
```

Знак `%` и `simbol_konverzije` су обавезни елементи, а између њих можеш
додатно навести, по датом редоследу и следеће необавезне елементе:

- `*`, је карактер који означава да ће се улазни податак прочитати и
игнорисати,
- `širina`, је целобројна вредност која задаје највећи број карактера улазног
податка,
- `dužina`, се задаје карактером `l` за `double`, или `L` за `long double`.

:::{admonition} Упозорење
:class: warning

Функција `scanf()` сматра се небезбедном функцијом јер не проверава величину
унетих података. Ово се показало изузетно опасно, нарочито када је у питању
унос низа карактера *(енгл. string)*, о чему ћеш учити у другом разреду. Ако
корисник програма унесе дужи низ карактера од предвиђеног, може се десити да
се у оперативној меморији препишу подаци који су смештени близу тог низа. То
може да узрокује пуцање програма, грешке у раду оперативног система и озбиљне
безбедносне пропусте. Због свега наведеног, у новијим верзијама Microsoft C/C++
компајлера, моћи ћеш да користиш функцију `scanf()` само уз обавезно навођење
директиве `#define _CRT_SECURE_NO_WARNINGS` на почетку програма. Исто ће важити
и за групу функција за унос коју ћеш учити у другом разреду. Ова директива неће
сметати другим компајлерима, док алтернативна функција `scanf_s()` коју
Microsoft C/C++ компајлер нуди, у другим компајлерима неће бити препозната као
библиотечка функција.
:::

Сада можеш писати програме који читају податке са стандардног улаза и
исписују податке на стандардни излаз. На пример, напиши програм у програмском
језику C који са стандардног улаза чита број година корисника година, а потом
тај податак исписује на стандардни излаз:

```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void)
{
    int godine;
    printf("Koliko imas godina: ");
    scanf("%d", &godine);
    printf("Uneo si broj %d", godine);
    return 0;
}
```

Извршавање овог програма може изгледати овако:

```text
Koliko imas godina: 15
Uneo si broj 15
```

Jедним позивом `scanf()` функције можеш унети више података истовремено. На
пример, напиши програм у програмском језику C који са стандардног улаза чита
број година и висину у центиметрима, па потом унете податке исписује на
стандардни излаз:

```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void)
{
    int godine, visina;
    printf("Unesi redom koliko imas godina i svoju visinu u cm: ");
    scanf("%d%d", &godine, &visina);
    printf("Ti imas %d godina i visok si %d cm.", godine, visina);
    return 0;
}
```

Резултат извршавања овог програма и интеракције са корисником може да изгледа
овако:

```text
Unesi redom koliko imas godina i svoju visinu u cm: 15 176
Ti imas 15 godina i visok si 176 cm.
```

Програм ће исто радити и ако корисник притисне тастер `ENTER` након броја `15`.

```text
Unesi redom: koliko imas godina i svoju visinu u cm: 15
176
Ti imas 15 godina i visok si 176 cm.
```
